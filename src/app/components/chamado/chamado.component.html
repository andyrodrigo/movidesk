<main style="width: 600px">
  <h5
    class="my-3 mx-3"
    style="
      color: #646569;
      width: fit-content;
      padding: 3px;
      border-bottom: solid #b6a78a 1px;
    "
  >
    NOVO CHAMADO
  </h5>

  <div class="mx-5">
    <div>
      <div class="d-flex">
        <p class="col-md-6"><strong>Nome:</strong> {{ usuario.nome }}</p>
      </div>
      <div class="d-flex">
        <p class="col-md-6"><strong>E-Mail: </strong>{{ usuario.email }}</p>
      </div>
      <div class="d-flex">
        <p class="col-md-6"><strong>Órgão: </strong>{{ usuario.orgao }}</p>
      </div>
    </div>

    <form #formulario="ngForm" *ngIf="!enviado">
      <div class="mb-3 col-md-12">
        <label for="campo_assunto" class="form-label">Assunto:</label>
        <input
          #campoAssunto
          name="assunto"
          [(ngModel)]="assunto"
          id="campo_assunto"
          type="text"
          class="form-control is-invalid"
          [class.is-invalid]="!assunto && formulario.touched"
          required
        />
        <div class="invalid-feedback">O campo assunto é obrigatório</div>
      </div>

      <div class="mb-3 col-md-12 d-flex flex-column">
        <label for="campo_descricao" class="form-label"
          >Descrição do Problema:</label
        >
        <textarea
          #campoDescricao
          name="descricao"
          [(ngModel)]="descricao"
          id="campo_descricao"
          class="form-control"
          [class.is-invalid]="!descricao && formulario.touched"
          rows="5"
        ></textarea>
        <div class="invalid-feedback">
          O campo descrição do Problema é obrigatório
        </div>
      </div>

      <div class="mb-3 col-md-12">
        <label for="campo_anexo" class="form-label">Anexar Arquivo:</label>
        <input
          #campoAnexo
          name="anexo"
          [(ngModel)]="anexo"
          (change)="onAnexoSelecionado($event)"
          id="campo_anexo"
          class="form-control"
          type="file"
          value="Escolher Arquivos"
        />
      </div>

      <div class="d-flex justify-content-end">
        <button
          [disabled]="!formulario.valid || enviado"
          (click)="abrirChamado()"
          class="btn btn-primary my-2 mx-3"
        >
          Abrir Chamado
        </button>
      </div>

      <div class="d-flex justify-content-end">
        <button
          [disabled]="!formulario.valid || enviado"
          (click)="enviarAnexo()"
          class="btn btn-primary my-2 mx-3"
        >
          Enviar Anexo
        </button>
      </div>
    </form>

    <section class="my-3" *ngIf="sucesso">
      <h2>Seu chamado foi aberto com sucesso!</h2>
      <hr />
      <h4>O número do seu ticket é {{ numeroTicket }}</h4>
      <br />
      <h5>Para acompanhar o atendimento, use o link abaixo:</h5>
      <a href="https://top-down-consultoria.movidesk.com/">Acompanhamento</a>
    </section>
  </div>
</main>

<!--
<section class="m-5">
  <button class="btn btn-secondary my-5" (click)="testar()">comunicação</button>
  <div *ngIf="extra" class="card">
    <div class="card-body">
      <div>
        <label for="cpf">CPF ou CNPJ</label>
        <input #entrada id="cpf" type="text" class="form-control w-25" />
        <div class="card m-2">
          <div *ngFor="let item of resposta">
            Nome: {{ item.businessName }} - CPF: {{ item.cpfCnpj }} - Orgão:
            {{ item.relationships[0].name }} - E-mail:
            {{ item.emails[0]?.email }}
          </div>
        </div>
      </div>
      <button class="btn btn-warning my-2" (click)="buscar(entrada.value)">
        Buscar
      </button>
      <p>66729624507</p>
      <p>52511345099</p>
      <p>59671165400</p>
      <p>09590270417</p>
      <p>10604993471</p>
      <p>03506119478</p>
      <p>09450611459</p>
      <button class="btn btn-danger my-2" (click)="cadastrar()">
        Cadastrar
      </button>
    </div>
  </div>
</section>-->
